<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Canvas Scribble</title>
    <style>
      canvas {
        border: 1px solid #ccc;
        cursor: crosshair;
      }
      .toolbar {
        margin-bottom: 10px;
      }
    </style>
  </head>
  <body>
    <div class="toolbar">
      <button id="free" data-mode="free">Free Draw</button>
      <button id="rect" data-mode="rect">Rectangle</button>
      <button id="circle" data-mode="circle">Circle</button>
      <button id="drag" data-mode="drag">Drag</button>
      <button id="clear">Clear</button>
    </div>

    <canvas id="canvas" width="800" height="500"></canvas>

    <script type="module">
      import { Scribble } from "./dist/index.js";

      window.onload = () => {
        const canvas = document.getElementById("canvas");
        const app = new Scribble(canvas);

        document.querySelectorAll("button[data-mode]").forEach((btn) => {
          btn.addEventListener("click", () => {
            const mode = btn.dataset.mode;
            app.setMode(mode);
          });
        });

        document.getElementById("clear").addEventListener("click", () => {
          app.clearCanvas();
        });
      };
    </script>
  </body>
</html>
